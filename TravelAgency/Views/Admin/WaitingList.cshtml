@model IEnumerable<dynamic>
@{
    ViewData["Title"] = "Waiting List";
}

<link rel="stylesheet" href="~/css/admin-waitinglist.css" asp-append-version="true" />

<div class="container py-4 waiting-page">
    <div class="d-flex justify-content-between align-items-center mb-4 waiting-header">
        <div>
            <h2 class="fw-bold mb-1 waiting-title">
                <i class="bi bi-hourglass-split text-primary me-2"></i>
                Waiting List for Trip #@ViewBag.TripId
            </h2>
            <div class="text-muted waiting-subtitle">See users waiting for this trip in order</div>
        </div>

        <a href="/Admin/Trips" class="btn btn-outline-secondary waiting-back">
            <i class="bi bi-arrow-left"></i> Back to Trips
        </a>
    </div>

    @if (!Model.Any())
    {
        <div class="alert alert-info waiting-alert">
            No users are currently waiting for this trip.
        </div>
    }
    else
    {
        <div class="card shadow-sm border-0 rounded-4 waiting-card">
            <div class="table-responsive">
                <table class="table table-hover mb-0 waiting-table">
                    <thead class="table-light">
                        <tr>
                            <th>#</th>
                            <th>Full Name</th>
                            <th>Email</th>
                            <th>Joined At</th>
                            <th>Position</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td class="text-muted">#@item.WaitingId</td>
                                <td class="fw-semibold">@item.FullName</td>
                                <td>
                                    <span class="email-pill">@item.Email</span>
                                </td>
                                <td class="text-muted">@item.JoinDate</td>
                                <td>
                                    <span class="badge bg-primary position-badge">@item.Position</span>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    }
</div>
