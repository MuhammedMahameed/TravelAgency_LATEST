@model List<TravelAgency.Models.Trip>

<h2>Manage Trips</h2>

<a href="/Admin/AddTrip">âž• Add New Trip</a>

@if (TempData["Error"] != null)
{
    <div style="color:red; margin:10px 0;">
        @TempData["Error"]
    </div>
}
@if (TempData["Success"] != null)
{
    <div style="color:green; margin:10px 0;">
        @TempData["Success"]
    </div>
}

<table border="1">
    <tr>
        <th>Destination</th>
        <th>Country</th>
        <th>Price</th>
        <th>Rooms</th>
        <th>Actions</th>
    </tr>

    @foreach (var t in Model)
    {
        <tr>
            <td>@t.Destination</td>
            <td>@t.Country</td>
            <td>@t.Price</td>
            <td>@t.AvailableRooms</td>
            <td>
                <a href="/Admin/EditTrip/@t.TripId">Edit</a> |
                <a href="/Admin/Discount/@t.TripId">Discount</a> |

                <form asp-action="DeleteTrip" asp-controller="Admin" method="post" style="display:inline;">
                    <input type="hidden" name="id" value="@t.TripId" />
                    <button type="submit"
                            onclick="return confirm('Are you sure you want to delete this trip?');">
                        Delete
                    </button>
                </form>
            </td>

        </tr>
    }
</table>
